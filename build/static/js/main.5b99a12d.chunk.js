(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{161:function(e,t){},167:function(e,t){},180:function(e,t,a){},209:function(e,t){},212:function(e,t){},230:function(e,t){},65:function(e,t){},66:function(e,t){},820:function(e,t){},825:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),r=a(173),n=a.n(r),l=a(5),o=a(2),i=(a(180),c.a.createContext({})),d=a(4),h=a.n(d),j=c.a.createContext({}),b=a.p+"static/media/logo.50005fde.png",m=a(27),x=a(18),u=a(1);var O=function(e){var t="border-2 border-theme_dark-highlight  text-theme_dark font-bold rounded-full px-4 py-1 mt-1 text-sm ";return e.outline?t+="text-theme_dark-highlight px-5 ":t+="bg-theme_dark-highlight ",Object(u.jsx)("button",Object(l.a)(Object(l.a)({},e),{},{className:t+e.className}))},p=a(23);var g=function(e){return Object(u.jsx)("input",Object(l.a)(Object(l.a)({},e),{},{className:"border-2 border-theme_dark-brighter rounded-md p-2 block "+e.className}))};var f=function(e){var t=Object(s.useState)("login"),a=Object(o.a)(t,2),c=a[0],r=a[1],n=Object(s.useState)(""),l=Object(o.a)(n,2),d=l[0],b=l[1],m=Object(s.useState)(""),x=Object(o.a)(m,2),f=x[0],v=x[1],N=Object(s.useState)(""),k=Object(o.a)(N,2),w=k[0],_=k[1],y=Object(s.useState)(""),C=Object(o.a)(y,2),S=C[0],I=C[1],B=Object(s.useContext)(i),E=Object(s.useContext)(j),P=!1!==B.show?"block":"hidden";return B.show&&B.show!==c&&r(B.show),Object(u.jsx)("div",{className:"w-screen h-screen  fixed top-0 bottom-0 left-0 z-20 flex "+P,style:{backgroundColor:"rgba(0,0,0,0.95)"},children:Object(u.jsx)(p.a,{onClickOut:function(){return B.setShow(!1)},children:Object(u.jsxs)("div",{className:"w-4/5 sm:w-1/3  border border-theme_dark rounded-md bg-white p-5 text-theme_dark  mx-auto self-center align-middle",children:[Object(u.jsx)("div",{className:"",children:Object(u.jsx)("span",{className:"text-red-700",children:S})}),"login"===c&&Object(u.jsx)("div",{children:Object(u.jsx)("h1",{className:"text-2xl mb-3",children:" Login"})}),"register"===c&&Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:"text-2xl mb-3",children:" Register"}),Object(u.jsxs)("label",{children:["Email",Object(u.jsx)(g,{type:"email",className:"mb-2 w-full ",placeholder:"email (Eg: abc@xyz.com)",value:d,onChange:function(e){return b(e.target.value)}})]})]}),Object(u.jsxs)("label",{children:["Username",Object(u.jsx)(g,{type:"text",className:"mb-2 w-full ",placeholder:"username (Eg: MOni_4)",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(u.jsxs)("label",{children:["Password",Object(u.jsx)(g,{type:"password",className:"mb-4 w-full ",placeholder:"password (Eg: xyz1234)",value:w,onChange:function(e){return _(e.target.value)}})]}),"login"===c&&Object(u.jsxs)("div",{children:[Object(u.jsx)(O,{outline:!0,className:"w-full ",onClick:function(){return function(){var e={username:f,password:w};h.a.post("https://chai-stop-server.herokuapp.com/login",e,{withCredentials:!0}).then((function(){B.setShow(!1),E.setUser({username:f})})).catch((function(e){I("Incorrect username or password")}))}()},children:"Log In"}),Object(u.jsxs)("div",{children:["Don't have an account? ",Object(u.jsx)("button",{className:"font-bold",onClick:function(){B.setShow("register"),I("")},children:"Sign Up"})]})]}),"register"===c&&Object(u.jsxs)("div",{children:[Object(u.jsx)(O,{outline:!0,className:"w-full ",onClick:function(e){return function(e){e.preventDefault();var t={email:d,username:f,password:w};w.length<8?I("Password should be atleast 8 characters long"):h.a.post("https://chai-stop-server.herokuapp.com/register",t,{withCredentials:!0}).then((function(e){E.setUser({username:f}),B.setShow(!1),b(""),_(""),v("")})).catch((function(e){I("Username already exists.Try a different one.")}))}(e)},children:"Sign Up"}),Object(u.jsxs)("div",{children:["Already have an account? ",Object(u.jsx)("button",{className:"font-bold",onClick:function(){B.setShow("login"),I("")},children:"Log In"})]})]})]})})})},v=a(11);var N=function(){var e=Object(s.useState)("hidden"),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(s.useContext)(i),n=Object(s.useContext)(j);return Object(u.jsx)("header",{className:"w-full bg-theme_dark p-2",children:Object(u.jsxs)("div",{className:"mx-4 flex",children:[Object(u.jsx)(v.b,{to:"/",children:Object(u.jsxs)("button",{className:"block flex my-1 text-white font-bold my-auto",children:[Object(u.jsx)("img",{src:b,alt:"",className:"w-8 h-8 pt-1"}),Object(u.jsxs)("div",{className:"p-2",children:[Object(u.jsx)("span",{className:"text-theme_dark-highlight",children:"CHAI"}),Object(u.jsx)("span",{className:"opacity-80",children:"stop"})]})]})}),Object(u.jsx)("div",{action:"",className:"bg-theme_dark p-1 flex rounded-md border border-theme_dark flex-grow"}),!n.username&&Object(u.jsxs)("div",{className:"hidden sm:block",children:[Object(u.jsx)(O,{outline:!0,className:"ml-2",onClick:function(){return r.setShow("login")},children:"Log In"}),Object(u.jsx)(O,{className:"ml-1 mr-2",onClick:function(){return r.setShow("register")},children:"Sign Up"})]}),n.username&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v.b,{to:"/myposts/"+n.username,children:Object(u.jsxs)("button",{className:"px-2 py-1 block flex text-theme_dark-brighter hover:text-theme_dark-highlight",children:[Object(u.jsx)("p",{className:"font-bold m-1 ml-2 ",children:"MY POSTS"}),Object(u.jsx)(x.e,{className:" w-6 h-6 m-1  "})]})}),Object(u.jsx)(v.b,{to:"/bookmarks/"+n.username,children:Object(u.jsxs)("button",{className:"px-2 py-1 block flex text-theme_dark-brighter hover:text-theme_dark-highlight",children:[Object(u.jsx)("p",{className:"font-bold m-1 ml-2 ",children:"SAVED POSTS"}),Object(u.jsx)(x.b,{className:" w-6 h-6 m-1  "})]})})]}),Object(u.jsxs)(p.a,{onClickOut:function(){return c("hidden")},children:[Object(u.jsxs)("button",{className:"block flex m-2 ml-3 text-white opacity-80 hover:text-theme_dark-highlight hover:opacity-100",onClick:function(){c("hidden"===a?"block":"hidden")},children:[n.username&&Object(u.jsxs)("span",{className:" font-bold  mx-1 ",children:["Welcome, ",n.username,"!!"]}),Object(u.jsx)(x.f,{className:" w-6 h-6  "}),Object(u.jsx)(x.d,{className:" w-3 h-3 my-1.5"})]}),Object(u.jsxs)("div",{className:"absolute right-0 top-12 my-2 mr-8 bg-theme_dark border-2 border-theme_dark-brighter z-10 rounded-md text-theme_border overflow-hidden "+a,children:[!n.username&&Object(u.jsxs)("button",{className:"block flex w-50 py-2 px-3 text-sm hover:bg-theme_border hover:text-theme_dark ",onClick:function(){return r.setShow("login")},children:[Object(u.jsx)(m.a,{className:"w-5 h-5"}),"Log In / Sign Up"]}),n.username&&Object(u.jsxs)("div",{children:[Object(u.jsx)(v.b,{to:"/profile/"+n.username,children:Object(u.jsxs)("button",{className:"block flex w-full py-2 px-3 text-sm hover:bg-theme_border hover:text-theme_dark ",children:[Object(u.jsx)(x.f,{className:"w-5 h-5"}),"My Profile"]})}),Object(u.jsxs)("button",{className:"block flex w-full py-2 px-3 text-sm hover:bg-theme_border hover:text-theme_dark ",onClick:function(){return n.logout()},children:[Object(u.jsx)(m.b,{className:"w-5 h-5"}),"Log Out"]})]})]})]})]})})},k=(a(203),a.p+"static/media/background_cover.5a2a177e.svg"),w=a.p+"static/media/background_cover2.3ad6b614.svg";var _=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright  flex",children:[Object(u.jsx)("img",{src:k,alt:"",className:"w-1/2 h-auto p-16"}),Object(u.jsx)("img",{src:w,alt:"",className:"w-1/2 h-auto p-16"})]})})},y=a.p+"static/media/avatar.50005fde.png",C=c.a.createContext({});var S=function(){var e=Object(s.useContext)(C);return Object(u.jsx)("div",{className:"bg-theme_dark px-6 py-4 text-theme_dark-brighter  ",children:Object(u.jsxs)("div",{className:"border-2 border-theme_dark hover:border-theme_dark-highlight p-2 rounded-md flex shadow-md",children:[Object(u.jsx)("div",{className:"overflow-hidden w-10 h-10",children:Object(u.jsx)("img",{src:y,alt:""})}),Object(u.jsx)("form",{action:"",className:"bg-theme_dark-alternateBright p-1 ml-2 flex rounded-md border border-theme_border flex-grow",children:Object(u.jsx)("input",{type:"text",className:"w-full bg-theme_dark-alternateBright text-gray block",placeholder:"Create Thread",onClick:function(t){t.preventDefault(),e.setShow(!0)}})})]})})},I=a(45);var B=function(e){var t=Object(s.useContext)(j),a=Object(s.useState)(" text-theme_border"),c=Object(o.a)(a,2),r=c[0],n=c[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("h5",{children:Object(u.jsxs)("div",{className:"flex text-theme_border text-xs opacity-50",children:["Posted by ",e.author,Object(u.jsx)(I.a,{datetime:e.postedAt})]})}),t.username&&Object(u.jsx)(x.b,{className:r+" w-7 h-5 ml-auto ",onClick:function(){return function(){console.log(e);var a={postId:e._id,username:t.username};h.a.post("https://chai-stop-server.herokuapp.com/bookmarks",a,{withCredentials:!0}).then((function(){})),n("text-theme_dark-highlight ")}()}})]}),Object(u.jsx)("h2",{className:"font-bold text-xl mb-3 text-white opacity-80 ",children:e.title}),Object(u.jsx)("div",{className:"text-sm leading-6 text-white opacity-70",children:Object(u.jsx)("p",{children:e.body})})]})};var E=function(e){return console.log(e.open),Object(u.jsxs)(u.Fragment,{children:[!e.open&&Object(u.jsx)("div",{className:"bg-theme_dark px-6 py-4 text-theme_dark-brighter text-left ",children:Object(u.jsx)("div",{className:" cursor-pointer hover:border-theme_dark-highlight border-2 rounded-md border-theme_dark-alternateBright bg-theme_dark-alternateBright px-6 py-4 text-theme_dark shadow-md ",children:Object(u.jsx)(v.b,{to:{pathname:"/posts/"+e._id,state:{postId:e._id}},children:Object(u.jsx)(B,Object(l.a)({},e))})})}),Object(u.jsx)("div",{children:!0===e.open&&Object(u.jsx)("div",{className:"bg-theme_dark-alternateBright",children:Object(u.jsx)(B,Object(l.a)({},e))})})]})};var P=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(s.useEffect)((function(){h.a.get("https://chai-stop-server.herokuapp.com/postthread",{withCredentials:!0}).then((function(e){return c(e.data)}))}),[]),Object(u.jsx)("div",{children:a.map((function(e){return Object(u.jsx)(E,Object(l.a)({},e))}))})},F=a.p+"static/media/background_cover_home.b6afe3fb.svg",U=a(6);var A=function(){var e=Object(s.useContext)(j),t=Object(s.useContext)(i),a=e.username;return Object(u.jsxs)("div",{children:[!a&&Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"bg-theme_dark-brighter h-screen  flex",children:[Object(u.jsx)("img",{src:F,alt:"",className:"w-1/2 h-auto p-16"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:"text-theme_dark-highlight text-5xl font-bold mt-2",children:"Hello there!"}),Object(u.jsx)("h2",{className:"text-theme_border mt-2",children:" Welcome to ForumName!!"}),Object(u.jsx)("p",{className:"text-2xl text-theme_border-bright mt-16",children:" Click the button below to get started!"}),Object(u.jsxs)(O,{className:"mt-7 flex",onClick:function(){return t.setShow("register")},children:["Get Started",Object(u.jsx)(x.a,{className:"h-4 w-7 my-auto"})]})]})]})}),a&&Object(u.jsx)(U.a,{to:"/"})]})};var D=function(){var e=Object(s.useContext)(j).username;return Object(u.jsxs)(u.Fragment,{children:[e&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(_,{})," ",Object(u.jsx)(S,{})," ",Object(u.jsx)(P,{})]}),!e&&Object(u.jsx)(A,{})]})};var T=function(e){return Object(u.jsx)("div",{children:Object(u.jsx)("textarea",Object(l.a)(Object(l.a)({},e),{},{className:"border-2 w-full border-theme_dark-brighter rounded-md p-2 my-2 block "+e.className,placeholder:e.placeholder}))})};var z=function(e){var t=Object(s.useContext)(j),a=Object(s.useContext)(i),c=Object(s.useState)(""),r=Object(o.a)(c,2),n=r[0],l=r[1];return Object(u.jsxs)("div",{children:[e.showAuthor&&Object(u.jsxs)("p",{className:"text-theme_dark-brighter text-sm mb-2",children:[" Comment as :",Object(u.jsxs)("span",{class:"text-theme_border opacity-50 font-bold text-sm",children:[t.username," "]})]}),Object(u.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault();var s={body:n,parentId:e.parentId,rootId:e.rootId};h.a.post("https://chai-stop-server.herokuapp.com/postcomment",s,{withCredentials:!0}).then((function(t){l(""),e.onSubmit&&e.onSubmit()})).catch((function(e){401===e.response.status&&a.setShow("login")}))}(t)},children:[Object(u.jsx)(T,{onChange:function(e){return l(e.target.value)},value:n,placeholder:"Type your comment here...",className:"bg-theme_border"}),Object(u.jsxs)("div",{className:"text-right",children:[!!e.onCancel&&Object(u.jsx)(O,{outline:!0,className:"mr-1",onClick:function(t){return e.onCancel()},children:Object(u.jsx)("span",{className:"text-theme_dark",children:"    Cancel "})}),Object(u.jsx)(O,{className:"mb-1 mr-1",children:"Comment"})]})]})]})},L=c.a.createContext(null);var M=function e(t){var a=Object(s.useState)(!1),c=Object(o.a)(a,2),r=c[0],n=c[1],l=t.comments.filter((function(e){return t.parentId===e.parentId})),i=Object(s.useContext)(L);return Object(u.jsx)("div",{className:"w-full bg-theme_dark-alternateBright",children:l.map((function(a){var s=t.comments.filter((function(e){return e.parentId===a._id}));return Object(u.jsxs)("div",{className:"mb-2",children:[Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"bg-theme_dark-highlight w-8 h-8 rounded-full my-auto"}),Object(u.jsxs)("div",{className:" my-auto py-1 ml-1.5 text-theme_border opacity-70",children:["Posted by ",Object(u.jsxs)("span",{className:"font-bold text-theme_border opacity-90",children:[a.author," "]}),Object(u.jsx)(I.a,{datetime:a.postedAt})]})]}),Object(u.jsxs)("div",{className:"border-l-2 border-theme_dark-highlight mt-1 ml-4 p-3",children:[Object(u.jsx)("div",{className:"px-2 text-sm leading-6 text-white opacity-70",children:a.body}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"flex",children:Object(u.jsxs)("button",{className:"flex hover:text-theme_dark-highlight ",onClick:function(){return n(a._id)},children:[Object(u.jsx)(x.c,{className:"mt-2 h-6 w-6  mx-1  "}),Object(u.jsx)("span",{className:"my-1 py-2 text-xs",children:"Reply"})]})}),a._id===r&&Object(u.jsx)(z,{showAuthor:!1,rootId:t.rootId,onSubmit:function(){n(!1),i.refreshComments()},parentId:a._id,onCancel:function(e){return n(!1)}}),s.length>0&&Object(u.jsx)(e,{comments:t.comments,parentId:a._id,rootId:t.rootId})]})]})]})}))})};var Y=function(e){var t=Object(s.useState)({}),a=Object(o.a)(t,2),c=a[0],r=a[1],n=Object(s.useState)([]),i=Object(o.a)(n,2),d=i[0],j=i[1],b=Object(s.useState)(null),m=Object(o.a)(b,2),x=(m[0],m[1],Object(s.useState)(null)),O=Object(o.a)(x,2);function p(){h.a.get("https://chai-stop-server.herokuapp.com/comments/root/"+e.id).then((function(e){j(e.data)}))}return O[0],O[1],Object(s.useEffect)((function(){e.comment?r(e.post):(h.a.get("https://chai-stop-server.herokuapp.com/postthread/"+e.id).then((function(e){r(e.data)})),p())}),[e.id,e.comment]),Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright",children:[c&&Object(u.jsx)(E,Object(l.a)(Object(l.a)({},c),{},{open:!0})),!!c&&!!c._id&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("hr",{className:"border-theme_dark-alternateBright my-4"}),Object(u.jsx)(z,{onSubmit:function(){return p()},rootId:c._id,parentId:c._id,showAuthor:!0}),Object(u.jsx)("hr",{className:"border-theme_dark-brighter my-4"}),Object(u.jsx)("div",{className:"theme_dark-alternateBright",children:Object(u.jsx)(L.Provider,{value:{refreshComments:p},children:Object(u.jsx)(M,{parentId:c._id,rootId:c._id,comments:d})})})]})]})},H=a.p+"static/media/female_avatar.96f1169e.svg";var J=function(e){var t=e.author;console.log(t);var a=Object(s.useState)(""),c=Object(o.a)(a,2),r=c[0],n=c[1],l=Object(s.useState)(""),i=Object(o.a)(l,2),d=i[0],j=i[1],b=Object(s.useState)(""),m=Object(o.a)(b,2),x=m[0],O=m[1],p=Object(s.useState)(""),g=Object(o.a)(p,2),f=g[0],v=g[1],N=Object(s.useState)(""),k=Object(o.a)(N,2),w=k[0],_=k[1];return Object(s.useEffect)((function(){console.log(t),h.a.get("https://chai-stop-server.herokuapp.com/author",{params:{username:t}}).then((function(e){e&&_(e.data.biography),v(e.data.department),O(e.data.school),n(e.data.email),j(e.data.name)}))}),[t,d,r,x,f,w]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"border border-theme_dark rounded-md px-10 mx-7 shadow-md",children:[Object(u.jsxs)("h1",{className:"text-theme_dark-highlight mt-2 text-2xl font-bold text-center mb-2",children:["About ",t]}),Object(u.jsx)("div",{className:"flex justify-center",children:Object(u.jsx)("img",{src:H,alt:"",className:"w-2/5 h-2/5 "})}),Object(u.jsxs)("div",{className:"my-3 p-3 border-t-2 ",children:[Object(u.jsxs)("p",{className:"text-sm leading-6 text-white opacity-70",children:[Object(u.jsx)("span",{className:"font-bold",children:"Name :       "})," ",d]}),Object(u.jsxs)("p",{className:"text-sm leading-6 text-white opacity-70",children:[Object(u.jsx)("span",{className:"font-bold",children:"Email :      "})," ",r]}),Object(u.jsxs)("p",{className:"text-sm leading-6 text-white opacity-70",children:[Object(u.jsx)("span",{className:"font-bold",children:"School :     "})," ",x]}),Object(u.jsxs)("p",{className:"text-sm leading-6 text-white opacity-70",children:[Object(u.jsx)("span",{className:"font-bold",children:"Department : "})," ",f]}),Object(u.jsxs)("p",{className:"text-sm leading-6 text-white opacity-70 italic mt-2",children:[" ",w]})]})]})})};var R=function(){var e=Object(U.h)().id,t=Object(s.useState)({}),a=Object(o.a)(t,2),c=a[0],r=a[1];return Object(s.useEffect)((function(){h.a.get("https://chai-stop-server.herokuapp.com/postthread/"+e).then((function(e){return r(e.data)})),console.log(c.author)}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"bg-theme_dark-alternateBright w-screen relative fixed top-0 bottom-0 left-0 p-11",children:Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:" bg-theme_dark-alternateBright flex-1",children:Object(u.jsx)(Y,{id:e})}),Object(u.jsx)("div",{className:"max-w-xl",children:Object(u.jsx)(J,{author:c.author})})]})})})},W=a.p+"static/media/notAllowed.96d4fc1a.svg",q=a.p+"static/media/noData.2e0221a9.svg";var G=function(e){var t=Object(s.useContext)(j),a=e.match.params.username;console.log("username is "+a);var c=Object(s.useState)(t.email),r=Object(o.a)(c,2),n=r[0],l=r[1],i=Object(s.useState)(t.name),d=Object(o.a)(i,2),b=d[0],m=d[1],x=Object(s.useState)(t.school),p=Object(o.a)(x,2),f=p[0],v=p[1],N=Object(s.useState)(t.department),k=Object(o.a)(N,2),w=k[0],_=k[1],y=Object(s.useState)(t.biography),C=Object(o.a)(y,2),S=C[0],I=C[1],B=Object(s.useState)(!0),E=Object(o.a)(B,2),P=E[0],F=E[1],U=Object(s.useState)(""),A=Object(o.a)(U,2),D=A[0],T=A[1],z=t.username;return console.log("profileuser is "+z),Object(s.useEffect)((function(){h.a.get("https://chai-stop-server.herokuapp.com/profile",{withCredentials:!0}).then((function(e){console.log(e.data),I(e.data.biography),_(e.data.department),v(e.data.school),l(e.data.email),m(e.data.name)}))}),[]),Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright w-screen h-screen ",children:[a===z&&P&&Object(u.jsx)("div",{className:" p-4 text-theme_border ",children:Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright border-2 border-theme_dark rounded-md bg-white w-1/2 shadow-md p-4 mx-auto mb-3 h-full",children:[Object(u.jsx)("h1",{className:"text-theme_dark-highlight mt-2 text-2xl font-bold text-center mb-2",children:a}),Object(u.jsx)("div",{className:"flex justify-center",children:Object(u.jsx)("img",{src:H,alt:"",className:"w-2/5 h-2/5 "})}),Object(u.jsxs)("div",{className:"my-3 p-3 border-t-2 ",children:[Object(u.jsxs)("p",{className:"text-sm leading-6 text-white opacity-70",children:[Object(u.jsx)("span",{className:"font-bold",children:"Name :       "})," ",b]}),Object(u.jsxs)("p",{className:"text-sm leading-6 text-white opacity-70",children:[Object(u.jsx)("span",{className:"font-bold",children:"Email :      "})," ",n]}),Object(u.jsxs)("p",{className:"text-sm leading-6 text-white opacity-70",children:[Object(u.jsx)("span",{className:"font-bold",children:"School :     "})," ",f]}),Object(u.jsxs)("p",{className:"text-sm leading-6 text-white opacity-70",children:[Object(u.jsx)("span",{className:"font-bold",children:"Department : "})," ",w]}),Object(u.jsxs)("p",{className:"text-sm leading-6 text-white opacity-70 italic mt-2",children:[" ",S]})]}),Object(u.jsx)("div",{className:"mb-3",children:Object(u.jsx)(O,{solid:!0,className:"w-1/2 mx-auto my-2 text-center mx-auto block mb-3",onClick:function(){F(!1)},children:"Update Profile"})})]})}),a===z&&!1===P&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:" p-4 text-theme_border ",children:Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright border-2 border-theme_dark rounded-md bg-white w-1/2 shadow-md p-4",children:[Object(u.jsx)("div",{className:"text-theme_dark-highlight font-boldt text-2xl opacity-100",children:D}),Object(u.jsxs)("p",{className:"mb-3 font-bold text-2xl text-white opacity-70",children:["Update your profile ",a,"!"]}),Object(u.jsxs)("label",{className:"mb-5",children:["Name",Object(u.jsx)(g,{type:"text",className:"mb-2 w-1/2 bg-gray-400 text-theme_dark  ",value:b,onChange:function(e){return m(e.target.value)}})]}),Object(u.jsxs)("label",{className:"mb-5",children:["Email",Object(u.jsx)(g,{type:"email",className:"mb-2 w-1/2 bg-gray-400 text-theme_dark  ",value:n,onChange:function(e){return l(e.target.value)}})]}),Object(u.jsxs)("label",{className:"mb-5",children:["School",Object(u.jsx)(g,{type:"school",className:"mb-2 w-1/2 bg-gray-400 text-theme_dark  ",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(u.jsxs)("label",{className:"mb-5",children:["Department",Object(u.jsx)(g,{type:"text",className:"mb-2 w-1/2 bg-gray-400 text-theme_dark  ",value:w,onChange:function(e){return _(e.target.value)}})]}),Object(u.jsxs)("label",{className:"mb-5",children:["Your Bio",Object(u.jsx)(g,{type:"text",className:"mb-2 w-1/2 bg-gray-400 text-theme_dark  ",value:S,onChange:function(e){return I(e.target.value)}})]}),Object(u.jsx)(O,{solid:!0,className:"w-1/2 mx-auto my-2",onClick:function(e){return function(e){e.preventDefault(),console.log("updated "+b),console.log("updated "+n),console.log("updated "+f),console.log("updated "+w),console.log("updated "+S);var t={name:b,email:n,school:f,department:w,biography:S,username:a};h.a.put("https://chai-stop-server.herokuapp.com/update",t,{withCredentials:!0}).then((function(){T("Your profile has been updated successfully"),F(!0)}))}(e)},children:"Save"})]})})}),!z&&Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright w-full h-full relative fixed top-0 text-center p-3",children:[Object(u.jsx)("p",{className:"text-theme_border font-bold text-3xl ",children:"Please log in to edit your profile."}),Object(u.jsx)("img",{src:q,alt:"",className:"w-4/6 h-4/6 p-4"})]}),z&&a!==z&&Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright w-full h-full relative fixed top-0 text-center p-3",children:[Object(u.jsxs)("p",{className:"text-theme_border font-bold text-3xl ",children:["Oops! ",Object(u.jsxs)("span",{className:"text-theme_dark-highlight",children:[" ",z," "]})," is not allowed to access profile of ",Object(u.jsxs)("span",{className:"text-theme_dark-highlight",children:[" ",a," "]})]}),".",Object(u.jsx)("img",{src:W,alt:"",className:"w-1/2 h-1/2 p-4"})]})]})};a(797);var V=function(e){var t=Object(s.useState)({}),a=Object(o.a)(t,2),c=a[0],r=a[1],n=Object(s.useState)([]),l=Object(o.a)(n,2),i=(l[0],l[1]),d=e.open?"block":"hidden";return Object(s.useEffect)((function(){h.a.get("https://chai-stop-server.herokuapp.com/postthread/"+e.id).then((function(e){r(e.data)})),h.a.get("https://chai-stop-server.herokuapp.com/comments/root/"+e.id).then((function(e){i(e.data)}))}),[e.id]),Object(u.jsx)("div",{className:"w-screen h-screen fixed top-0 bottom-0 left-0 z-20 flex "+d,style:{backgroundColor:"rgba(0,0,0,0.8)"},children:Object(u.jsx)(p.a,{onClickOut:function(){},children:Object(u.jsxs)("div",{className:"w-4/5 bg-theme_dark-alternateBright  border border-theme_dark rounded-md bg-white p-4 pt-1   text-theme_dark  mx-auto self-center align-middle",children:[Object(u.jsx)("div",{className:"text-right",children:Object(u.jsx)("button",{onClick:function(){r({}),e.onClickOut()},className:"mr-0",children:Object(u.jsx)(m.c,{solid:!0,className:"bg-theme_dark-highlight border border-theme_dark-highlight rounded-md text-theme_dark h-5 w-5 align-right "})})}),Object(u.jsx)("div",{className:"p-2 border-2 border-theme_dark-highlight rounded-md",children:Object(u.jsx)("div",{className:"block overflow-scroll ",style:{maxHeight:"calc(100vh - 10rem)"},children:Object(u.jsx)(Y,{post:c,id:e.id})})})]})})})};var K=function(e){var t=Object(s.useState)([]),a=Object(o.a)(t,2),c=a[0],r=a[1];return Object(s.useEffect)((function(){var t=e.username;h.a.get("https://chai-stop-server.herokuapp.com/savedpost",{params:{username:t}}).then((function(e){r(e.data)}))}),[]),Object(u.jsx)("div",{children:c.map((function(e){return Object(u.jsx)(E,Object(l.a)({},e.postId))}))})};var Q=function(e){var t=Object(s.useContext)(j),a=e.match.params.username,c=t.username;return Object(u.jsxs)("div",{children:[a===c&&Object(u.jsxs)("div",{className:" text-center p-4 bg-theme_dark-alternateBright w-full h-full",children:[Object(u.jsxs)("div",{className:"text-theme_border font-bold text-3xl my-3",children:["Your saved posts are here ",Object(u.jsxs)("span",{className:"text-theme_dark-highlight",children:[a,"!"]})," "]}),Object(u.jsx)("div",{className:"flex",children:Object(u.jsx)("div",{className:"flex-1",children:Object(u.jsx)(K,{username:a})})})]}),!c&&Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright w-full h-full relative fixed top-0 text-center p-3",children:[Object(u.jsx)("p",{className:"text-theme_border font-bold text-3xl ",children:"Please log in to view your saved posts."}),Object(u.jsx)("img",{src:q,alt:"",className:"w-4/6 h-4/6 p-4"})]}),c&&a!==c&&Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright w-full h-full relative fixed top-0 text-center p-3",children:[Object(u.jsxs)("p",{className:"text-theme_border font-bold text-3xl ",children:["Oops! ",Object(u.jsxs)("span",{className:"text-theme_dark-highlight",children:[" ",c," "]})," is not allowed to access profile of ",Object(u.jsxs)("span",{className:"text-theme_dark-highlight",children:[" ",a," "]})]}),".",Object(u.jsx)("img",{src:W,alt:"",className:"w-1/2 h-1/2 p-4"})]})]})};var X=function(e){var t=Object(s.useState)([]),a=Object(o.a)(t,2),c=a[0],r=a[1];return Object(s.useEffect)((function(){var t=e.username;h.a.get("https://chai-stop-server.herokuapp.com/userposts",{params:{username:t}}).then((function(e){r(e.data),console.log(e.data)}))}),[]),Object(u.jsx)("div",{children:c.map((function(e){return Object(u.jsx)(E,Object(l.a)({},e))}))})};var Z=function(e){var t=Object(s.useContext)(j),a=e.match.params.username,c=t.username;return Object(u.jsxs)("div",{children:[a===c&&Object(u.jsxs)("div",{className:" text-center p-4 bg-theme_dark-alternateBright w-full h-full",children:[Object(u.jsxs)("div",{className:"text-theme_border font-bold text-3xl my-3",children:["Posts you have written are here ",Object(u.jsxs)("span",{className:"text-theme_dark-highlight",children:[a,"!"]})," "]}),Object(u.jsx)("div",{className:"flex",children:Object(u.jsx)("div",{className:"flex-1",children:Object(u.jsx)(X,{username:a})})})]}),!c&&Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright w-full h-full relative fixed top-0 text-center p-3",children:[Object(u.jsx)("p",{className:"text-theme_border font-bold text-3xl ",children:"Please log in to view your saved posts."}),Object(u.jsx)("img",{src:q,alt:"",className:"w-4/6 h-4/6 p-4"})]}),c&&a!==c&&Object(u.jsxs)("div",{className:"bg-theme_dark-alternateBright w-full h-full relative fixed top-0 text-center p-3",children:[Object(u.jsxs)("p",{className:"text-theme_border font-bold text-3xl ",children:["Oops! ",Object(u.jsxs)("span",{className:"text-theme_dark-highlight",children:[" ",c," "]})," is not allowed to access profile of ",Object(u.jsxs)("span",{className:"text-theme_dark-highlight",children:[" ",a," "]})]}),".",Object(u.jsx)("img",{src:W,alt:"",className:"w-1/2 h-1/2 p-4"})]})]})};var $=function(){var e=Object(U.g)(),t=Object(s.useState)(!1),a=Object(o.a)(t,2),c=a[0],r=a[1],n=null;return e.state&&e.state.postId&&(e.pathname="/",n=e.state.postId),e.state&&e.state.postId&&(e.pathname="/",c?n=e.state.postId:e.state.postId=null),Object(s.useEffect)((function(){r(!0)}),[n]),Object(s.useEffect)((function(){n=null}),[c]),Object(u.jsxs)("div",{children:[n&&Object(u.jsx)("div",{children:Object(u.jsx)(V,{id:n,open:c,onClickOut:function(){return r(!1)}})}),Object(u.jsxs)(U.d,{location:e,children:[Object(u.jsx)(U.b,{exact:!0,path:"/",component:D}),Object(u.jsx)(U.b,{exact:!0,path:"/home",component:A}),Object(u.jsx)(U.b,{exact:!0,path:"/posts/:id",component:R}),Object(u.jsx)(U.b,{exact:!0,path:"/profile/:username",component:G}),Object(u.jsx)(U.b,{exact:!0,path:"/bookmarks/:username",component:Q}),Object(u.jsx)(U.b,{exact:!0,path:"/myposts/:username",component:Z})]})]})};var ee=function(){var e=Object(s.useContext)(C),t=Object(s.useContext)(i),a=!1!==e.show?"block":"hidden",c=Object(s.useState)(""),r=Object(o.a)(c,2),n=r[0],l=r[1],d=Object(s.useState)(""),j=Object(o.a)(d,2),b=j[0],x=j[1],g=Object(s.useState)(null),f=Object(o.a)(g,2),v=f[0],N=f[1];return v?Object(u.jsx)(U.a,{to:"/posts/"+v}):Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"w-screen h-screen fixed top-0 bottom-0 left-0 z-10 flex "+a,style:{backgroundColor:"rgba(0,0,0,0.8)"},children:Object(u.jsx)(p.a,{onClickOut:function(){},children:Object(u.jsxs)("div",{className:"w-4/5 md:w-2/4  border border-theme_dark rounded-md bg-white p-5 text-theme_dark  mx-auto self-center align-middle",children:[Object(u.jsx)("div",{className:"text-right",children:Object(u.jsx)("button",{onClick:function(){e.setShow(!1)},children:Object(u.jsx)(m.c,{solid:!0,className:"bg-theme_dark-highlight border border-theme_dark-highlight rounded-md text-theme_dark h-7 w-7 align-right"})})}),Object(u.jsx)("h1",{className:"text-2xl mb-3",children:"Create a post:"}),Object(u.jsx)("input",{className:"border-2  w-full border-theme_dark-brighter bg-theme_brighter rounded-md p-2 my-2 block ",placeholder:"Thread Title",value:n,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)(T,{value:b,onChange:function(e){return x(e.target.value)},placeholder:"Thread Contents(required)"}),Object(u.jsxs)("div",{className:"text-right",children:[Object(u.jsx)(O,{outline:!0,className:"mr-1",onClick:function(){e.setShow(!1)},children:"Cancel"}),Object(u.jsx)(O,{onClick:function(){return function(){var e={title:n,body:b};h.a.post("https://chai-stop-server.herokuapp.com/postthread",e,{withCredentials:!0}).then((function(e){N(e.data._id)})).catch((function(e){401===e.response.status&&t.setShow("login")}))}()},children:"Post"})]})]})})})})};var te=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"bg-theme_dark-alternateBright w-screen relative fixed bottom-0 left-0 p-11 text-center",children:Object(u.jsx)("div",{className:"bg-theme_dark-alternateBright h-screen"})}),Object(u.jsx)("div",{className:"bg-theme_dark w-screen relative fixed bottom-0 left-0 p-11 text-center text-white",children:Object(u.jsx)("p",{children:"Created by Manisini Chakraborty"})})]})};var ae=function(){return Object(u.jsxs)(v.a,{children:[Object(u.jsx)(N,{}),Object(u.jsx)($,{}),Object(u.jsx)(f,{}),Object(u.jsx)(ee,{}),Object(u.jsx)(te,{})]})};var se=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)({}),n=Object(o.a)(r,2),d=n[0],b=n[1],m=Object(s.useState)(!1),x=Object(o.a)(m,2),O=x[0],p=x[1];return Object(s.useEffect)((function(){h.a.get("https://chai-stop-server.herokuapp.com/user",{withCredentials:!0}).then((function(e){return b(e.data)}))}),[]),Object(u.jsx)("div",{className:"",children:Object(u.jsx)(i.Provider,{value:{show:a,setShow:c},children:Object(u.jsx)(C.Provider,{value:{show:O,setShow:p},children:Object(u.jsx)(j.Provider,{value:Object(l.a)(Object(l.a)({},d),{},{logout:function(){h.a.post("https://chai-stop-server.herokuapp.com/logout",{},{withCredentials:!0}).then((function(){b({}),U.a}))},setUser:b}),children:Object(u.jsx)(ae,{})})})})})};n.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(se,{})}),document.getElementById("root"))}},[[825,1,2]]]);
//# sourceMappingURL=main.5b99a12d.chunk.js.map