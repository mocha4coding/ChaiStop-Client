{"ast":null,"code":"var _jsxFileName = \"E:\\\\ENGAGE\\\\practice\\\\client\\\\src\\\\PostModal.js\",\n    _s = $RefreshSig$();\n\n//For rendering the contents of a post in a modal pop up\nimport axios from \"axios\";\nimport { useState, useEffect } from 'react';\nimport PostContent from \"./PostContent\";\nimport ClickOutHandler from \"react-clickout-handler\";\nimport { XIcon } from '@heroicons/react/outline';\nimport CommentForm from \"./CommentForm\";\nimport Comments from \"./Comments\";\nimport RootCommentContext from './RootCommentContext';\nimport { comment } from \"purgecss/node_modules/postcss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction PostModal(props) {\n  _s();\n\n  const [post, setPost] = useState({});\n  const [comments, setComments] = useState([]);\n  const visibleClass = props.open ? 'block' : 'hidden';\n\n  function refreshComments() {\n    axios.get('http://localhost:4000/comments/root/' + props.id).then(response => {\n      setComments(response.data);\n    });\n  }\n\n  useEffect(() => {\n    axios.get('http://localhost:4000/postthread/' + props.id).then(response => {\n      setPost(response.data);\n    });\n    refreshComments();\n  }, [props.id]);\n\n  function close() {\n    setPost({});\n    props.onClickOut();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-screen h-screen fixed top-0 bottom-0 left-0 z-20 flex \" + visibleClass,\n    style: {\n      backgroundColor: 'rgba(0,0,0,0.8)'\n    },\n    children: /*#__PURE__*/_jsxDEV(ClickOutHandler, {\n      onClickOut: () => {},\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-4/5 bg-theme_dark-brighter  border border-theme_dark rounded-md bg-white p-4 pt-1   text-theme_dark  mx-auto self-center align-middle\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'text-right',\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              close();\n            },\n            className: 'mr-0',\n            children: /*#__PURE__*/_jsxDEV(XIcon, {\n              solid: true,\n              className: 'bg-theme_dark-highlight border border-theme_dark-highlight rounded-md text-theme_dark h-5 w-5 align-right '\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-2 border-2 border-theme_dark-highlight rounded-md \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block overflow-scroll \",\n            style: {\n              maxHeight: \"calc(100vh - 10rem)\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(PostContent, {\n              open: true,\n              ...post\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }, this), !!post && !!post._id && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"border-theme_dark-alternateBright my-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(CommentForm, {\n                onSubmit: () => refreshComments(),\n                rootId: post._id,\n                parentId: post._id,\n                showAuthor: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"border-theme_dark-alternateBright my-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(RootCommentContext.Provider, {\n                value: {\n                  refreshComments\n                },\n                children: /*#__PURE__*/_jsxDEV(Comments, {\n                  parentId: post._id,\n                  rootId: comment._id,\n                  comments: comments\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PostModal, \"wFau9/FzHqn3hIJAh+/sfHEGpq0=\");\n\n_c = PostModal;\nexport default PostModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostModal\");","map":{"version":3,"sources":["E:/ENGAGE/practice/client/src/PostModal.js"],"names":["axios","useState","useEffect","PostContent","ClickOutHandler","XIcon","CommentForm","Comments","RootCommentContext","comment","PostModal","props","post","setPost","comments","setComments","visibleClass","open","refreshComments","get","id","then","response","data","close","onClickOut","backgroundColor","maxHeight","_id"],"mappings":"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","sourcesContent":["//For rendering the contents of a post in a modal pop up\r\n\r\n\r\nimport axios from \"axios\";\r\nimport {useState, useEffect} from 'react';\r\nimport PostContent from \"./PostContent\";\r\nimport ClickOutHandler from \"react-clickout-handler\";\r\nimport {XIcon} from '@heroicons/react/outline';\r\nimport CommentForm from \"./CommentForm\";\r\nimport Comments from \"./Comments\";\r\n\r\nimport RootCommentContext from './RootCommentContext';\r\nimport { comment } from \"purgecss/node_modules/postcss\";\r\nfunction PostModal(props)\r\n{\r\n    \r\n   \r\n\r\n    const [post, setPost] = useState({});\r\n    const [comments, setComments] = useState([]);\r\n\r\n    const visibleClass = props.open ? 'block' : 'hidden';\r\n\r\n    function refreshComments(){\r\n        axios.get('http://localhost:4000/comments/root/' + props.id)\r\n        .then(response => {\r\n            setComments(response.data);\r\n            \r\n            \r\n        });\r\n       \r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        axios.get('http://localhost:4000/postthread/' + props.id)\r\n        .then(response => {\r\n            setPost(response.data);\r\n            \r\n            \r\n        });\r\n\r\n        refreshComments();\r\n        \r\n    },[props.id]);\r\n\r\n\r\n    function close(){\r\n        setPost({});\r\n        props.onClickOut();\r\n    }\r\n    return(\r\n        \r\n        <div className = {\"w-screen h-screen fixed top-0 bottom-0 left-0 z-20 flex \" + visibleClass} style = {{backgroundColor:'rgba(0,0,0,0.8)'}}>\r\n       \r\n       <ClickOutHandler onClickOut = {() => {}}>\r\n             <div className = \"w-4/5 bg-theme_dark-brighter  border border-theme_dark rounded-md bg-white p-4 pt-1   text-theme_dark  mx-auto self-center align-middle\">\r\n                    <div className = {'text-right'}>\r\n                            <button onClick={() => {close()}} className = {'mr-0'}>\r\n                          \r\n                                <XIcon solid className = {'bg-theme_dark-highlight border border-theme_dark-highlight rounded-md text-theme_dark h-5 w-5 align-right '}/>\r\n                            </button>\r\n                    </div>\r\n                 <div className = \"p-2 border-2 border-theme_dark-highlight rounded-md \">\r\n                \r\n                    \r\n                    <div\r\n                        className = \"block overflow-scroll \" \r\n                        style = {{maxHeight : \"calc(100vh - 10rem)\"}}>\r\n                        <PostContent open = {true} {...post}/>\r\n\r\n                        {!!post && !!post._id && (\r\n                            <>\r\n                            <hr className = \"border-theme_dark-alternateBright my-4\"/>\r\n                            <CommentForm onSubmit = {() => refreshComments()}rootId = {post._id} parentId = {post._id} showAuthor = {true}/>\r\n\r\n\r\n\r\n                            <hr className = \"border-theme_dark-alternateBright my-4\"/>\r\n                            <RootCommentContext.Provider value = {{refreshComments}}>\r\n                                <Comments parentId = {post._id} rootId = {comment._id} comments={comments} />\r\n                            </RootCommentContext.Provider>\r\n\r\n                            </>\r\n                        )}\r\n\r\n\r\n\r\n                        \r\n                    </div>\r\n                \r\n                 </div>\r\n                 \r\n                 \r\n             </div>\r\n        </ClickOutHandler>\r\n        </div>\r\n        \r\n        \r\n    );\r\n}\r\n\r\n\r\nexport default PostModal;"]},"metadata":{},"sourceType":"module"}