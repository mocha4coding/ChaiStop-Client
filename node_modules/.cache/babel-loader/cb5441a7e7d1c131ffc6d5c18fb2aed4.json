{"ast":null,"code":"import _slicedToArray from\"E:/ENGAGE/practice/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Logo from'./logo.png';import{LoginIcon,BellIcon,SearchIcon,LogoutIcon}from'@heroicons/react/outline';import{BookmarkIcon,UserCircleIcon,ChevronDownIcon,ClipboardListIcon}from'@heroicons/react/solid';import AuthButton from'./AuthButton';import{useState,useContext}from'react';import ClickOutHandler from'react-clickout-handler';import AuthModalContext from'./AuthModalContext';import AuthModal from'./AuthModal';import UserContext from'./UserContext';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Header(){var _useState=useState('hidden'),_useState2=_slicedToArray(_useState,2),userDropdownVisibilityClass=_useState2[0],setUserDropdownVisibilityClass=_useState2[1];function toggleUserDropdown(){if(userDropdownVisibilityClass==='hidden'){setUserDropdownVisibilityClass('block');}else{setUserDropdownVisibilityClass('hidden');}}var authModal=useContext(AuthModalContext);var user=useContext(UserContext);return/*#__PURE__*/_jsx(\"header\",{className:\"w-full bg-theme_dark p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-4 flex\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"block flex my-1 text-white font-bold my-auto\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"\",className:\"w-8 h-8 pt-1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-theme_dark-highlight\",children:\"CHAI\"}),/*#__PURE__*/_jsx(\"span\",{className:\"opacity-80\",children:\"stop\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{action:\"\",className:\"bg-theme_dark p-1 flex rounded-md border border-theme_dark flex-grow\"}),!user.username&&/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:block\",children:[/*#__PURE__*/_jsx(AuthButton,{outline:true,className:\"ml-2\",onClick:function onClick(){return authModal.setShow('login');},children:\"Log In\"}),/*#__PURE__*/_jsx(AuthButton,{className:\"ml-1 mr-2\",onClick:function onClick(){return authModal.setShow('register');},children:\"Sign Up\"})]}),user.username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/myposts/\"+user.username,children:/*#__PURE__*/_jsxs(\"button\",{className:\"px-2 py-1 block flex text-theme_dark-brighter hover:text-theme_dark-highlight\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold m-1 ml-2 \",children:\"MY POSTS\"}),/*#__PURE__*/_jsx(ClipboardListIcon,{className:\" w-6 h-6 m-1  \"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/bookmarks/\"+user.username,children:/*#__PURE__*/_jsxs(\"button\",{className:\"px-2 py-1 block flex text-theme_dark-brighter hover:text-theme_dark-highlight\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold m-1 ml-2 \",children:\"SAVED POSTS\"}),/*#__PURE__*/_jsx(BookmarkIcon,{className:\" w-6 h-6 m-1  \"})]})})]}),/*#__PURE__*/_jsxs(ClickOutHandler,{onClickOut:function onClickOut(){return setUserDropdownVisibilityClass('hidden');},children:[/*#__PURE__*/_jsxs(\"button\",{className:\"block flex m-2 ml-3 text-white opacity-80 hover:text-theme_dark-highlight hover:opacity-100\",onClick:function onClick(){return toggleUserDropdown();},children:[user.username&&/*#__PURE__*/_jsxs(\"span\",{className:\" font-bold  mx-1 \",children:[\"Welcome, \",user.username,\"!!\"]}),/*#__PURE__*/_jsx(UserCircleIcon,{className:\" w-6 h-6  \"}),/*#__PURE__*/_jsx(ChevronDownIcon,{className:\" w-3 h-3 my-1.5\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 top-12 my-2 mr-8 bg-theme_dark border-2 border-theme_dark-brighter z-10 rounded-md text-theme_border overflow-hidden \"+userDropdownVisibilityClass,children:[!user.username&&/*#__PURE__*/_jsxs(\"button\",{className:\"block flex w-50 py-2 px-3 text-sm hover:bg-theme_border hover:text-theme_dark \",onClick:function onClick(){return authModal.setShow('login');},children:[/*#__PURE__*/_jsx(LoginIcon,{className:\"w-5 h-5\"}),\"Log In / Sign Up\"]}),user.username&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/profile/\"+user.username,children:/*#__PURE__*/_jsxs(\"button\",{className:\"block flex w-full py-2 px-3 text-sm hover:bg-theme_border hover:text-theme_dark \",children:[/*#__PURE__*/_jsx(UserCircleIcon,{className:\"w-5 h-5\"}),\"My Profile\"]})}),/*#__PURE__*/_jsxs(\"button\",{className:\"block flex w-full py-2 px-3 text-sm hover:bg-theme_border hover:text-theme_dark \",onClick:function onClick(){return user.logout();},children:[/*#__PURE__*/_jsx(LogoutIcon,{className:\"w-5 h-5\"}),\"Log Out\"]})]})]})]})]})});}export default Header;","map":{"version":3,"sources":["E:/ENGAGE/practice/client/src/Header.js"],"names":["Logo","LoginIcon","BellIcon","SearchIcon","LogoutIcon","BookmarkIcon","UserCircleIcon","ChevronDownIcon","ClipboardListIcon","AuthButton","useState","useContext","ClickOutHandler","AuthModalContext","AuthModal","UserContext","Link","Header","userDropdownVisibilityClass","setUserDropdownVisibilityClass","toggleUserDropdown","authModal","user","username","setShow","logout"],"mappings":"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","sourcesContent":["import Logo from './logo.png';\r\nimport {LoginIcon, BellIcon, SearchIcon,  LogoutIcon} from '@heroicons/react/outline';\r\nimport { BookmarkIcon ,UserCircleIcon, ChevronDownIcon, ClipboardListIcon} from '@heroicons/react/solid';\r\nimport AuthButton from './AuthButton';\r\nimport {useState, useContext} from 'react';\r\nimport ClickOutHandler from 'react-clickout-handler';\r\nimport AuthModalContext from './AuthModalContext';\r\nimport AuthModal from './AuthModal';\r\nimport UserContext from './UserContext';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Header() {\r\n    const [userDropdownVisibilityClass,setUserDropdownVisibilityClass] = useState('hidden');\r\n    \r\n    \r\n\r\n\r\n    function toggleUserDropdown()\r\n    {\r\n      if(userDropdownVisibilityClass === 'hidden'){\r\n        setUserDropdownVisibilityClass('block');\r\n      } else{\r\n        setUserDropdownVisibilityClass('hidden');\r\n      }\r\n    \r\n    }\r\n\r\n    const authModal = useContext(AuthModalContext); \r\n    const user = useContext(UserContext);\r\n\r\n    return (      \r\n        <header className = \"w-full bg-theme_dark p-2\">\r\n          <div className = \"mx-4 flex\">\r\n              {/* Website logo */}\r\n            <Link to = \"/\">\r\n              <button className=\"block flex my-1 text-white font-bold my-auto\">\r\n                <img src = {Logo} alt = \"\" className = \"w-8 h-8 pt-1\"/>\r\n                <div className = \"p-2\"><span className = \"text-theme_dark-highlight\">CHAI</span><span className = \"opacity-80\">stop</span></div>\r\n              </button>\r\n            </Link>\r\n              {/* Search Bar */}\r\n              <div action = \"\" className = \"bg-theme_dark p-1 flex rounded-md border border-theme_dark flex-grow\"/>\r\n            {/* <form action = \"\" className = \"bg-gray-800 p-1 flex rounded-md border border-theme_border flex-grow\">\r\n              {/* <SearchIcon className = \"text-theme_dark-brighter h-7 w-7\"/>\r\n              <input type = \"text\" className = \"bg-gray-800 h-6 text-sm p-1 pl-2 pr-0 block focus:outline-none text-white\" placeholder = \"Search\"/> \r\n            </form> */}\r\n\r\n\r\n              {/* Authentication buttons to be displayed only when user is not logged in*/}\r\n              {!user.username && (\r\n                 <div className = \"hidden sm:block\">\r\n\r\n                 <AuthButton outline className = \"ml-2\" onClick = {() => authModal.setShow('login')}>Log In</AuthButton>  \r\n                 <AuthButton className = \"ml-1 mr-2\" onClick = {() => authModal.setShow('register')}>Sign Up</AuthButton>\r\n               </div>\r\n              )}\r\n           \r\n            \r\n            \r\n              \r\n            {user.username && (\r\n\r\n\r\n              <>\r\n              {/* Other buttons (to be displayed only when user is logged in)*/}\r\n\r\n              {/* My posts */}\r\n              <Link to = {\"/myposts/\" + user.username}>\r\n              <button className=\"px-2 py-1 block flex text-theme_dark-brighter hover:text-theme_dark-highlight\">\r\n                <p className = \"font-bold m-1 ml-2 \">MY POSTS</p>\r\n                <ClipboardListIcon className = \" w-6 h-6 m-1  \" />\r\n              </button>\r\n              </Link>\r\n\r\n              {/* Saved posts */}\r\n              <Link to = {\"/bookmarks/\" + user.username}>\r\n              <button className=\"px-2 py-1 block flex text-theme_dark-brighter hover:text-theme_dark-highlight\">\r\n                <p className = \"font-bold m-1 ml-2 \">SAVED POSTS</p>\r\n                <BookmarkIcon className = \" w-6 h-6 m-1  \" />\r\n              </button>\r\n              </Link>\r\n              {/* <button className=\"px-2 py-1\">\r\n                <BellIcon className =     \"text-theme_dark-brighter w-6 h-6 m-1 mx-2\" />\r\n              </button> */}\r\n\r\n              </>\r\n            )}\r\n\r\n            \r\n            <ClickOutHandler onClickOut = {() => setUserDropdownVisibilityClass('hidden')}>\r\n                {/* User profile icon */}\r\n                 \r\n\r\n\r\n                <button className = \"block flex m-2 ml-3 text-white opacity-80 hover:text-theme_dark-highlight hover:opacity-100\"  onClick = {() => toggleUserDropdown()} >\r\n                  {/* Greeting */}\r\n                  {user.username && (  \r\n                   <span className = \" font-bold  mx-1 \" >\r\n\r\n                   Welcome, {user.username}!!\r\n                   </span>)\r\n                   } \r\n                  \r\n                  <UserCircleIcon className =     \" w-6 h-6  \" />\r\n                  <ChevronDownIcon className =    \" w-3 h-3 my-1.5\"/>\r\n                </button>\r\n\r\n\r\n                {/* Profile dropdown */}\r\n              <div className = {\"absolute right-0 top-12 my-2 mr-8 bg-theme_dark border-2 border-theme_dark-brighter z-10 rounded-md text-theme_border overflow-hidden \" + userDropdownVisibilityClass}>\r\n                  \r\n\r\n\r\n               \r\n                  {/* Login/Signup button in profile dropdown (to be shown only when user is not logged in) */}\r\n                {!user.username && (  \r\n                  <button className = \"block flex w-50 py-2 px-3 text-sm hover:bg-theme_border hover:text-theme_dark \"  onClick = {() => authModal.setShow('login')}>\r\n                    <LoginIcon className = \"w-5 h-5\"/>\r\n                    Log In / Sign Up\r\n                  </button>)\r\n                }\r\n\r\n                  {/* Logout button in profile dropdown (to be shown only when user is not logged in) */}\r\n                  {/* BUG: Entire button not changing background on getting hovered -> Fixed Now */}\r\n                {user.username && (  \r\n                  <div>\r\n                       <Link to = {\"/profile/\" + user.username}>\r\n                         <button className = \"block flex w-full py-2 px-3 text-sm hover:bg-theme_border hover:text-theme_dark \"  \r\n                                 >\r\n                           <UserCircleIcon className = \"w-5 h-5\"/>\r\n                          My Profile\r\n                         </button>\r\n                      </Link>\r\n                     \r\n                          <button className = \"block flex w-full py-2 px-3 text-sm hover:bg-theme_border hover:text-theme_dark \"  onClick = {() => user.logout()}>\r\n                            <LogoutIcon className = \"w-5 h-5\"/>\r\n                           Log Out\r\n                          </button>\r\n                      \r\n                  </div>)\r\n                } \r\n              </div>\r\n            </ClickOutHandler>\r\n        </div>\r\n        </header>\r\n       \r\n        \r\n  \r\n      \r\n    );\r\n  }\r\n  \r\n  export default Header;\r\n  "]},"metadata":{},"sourceType":"module"}