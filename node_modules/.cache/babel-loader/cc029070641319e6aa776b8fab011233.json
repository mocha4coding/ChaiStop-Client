{"ast":null,"code":"import _slicedToArray from\"E:/ENGAGE/practice/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import TimeAgo from'timeago-react';import{ChatAltIcon}from\"@heroicons/react/solid\";import{useState,useContext}from'react';import CommentForm from'./CommentForm';import RootCommentContext from'./RootCommentContext';import Voting from'./Voting';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Comments(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showCommentForm=_useState2[0],setShowCommentForm=_useState2[1];var comments=props.comments.filter(function(comment){return props.parentId===comment.parentId;});var rootCommentInfo=useContext(RootCommentContext);return/*#__PURE__*/_jsx(\"div\",{className:'w-full bg-theme_dark-alternateBright',children:comments.map(function(comment){var replies=props.comments.filter(function(reply){return reply.parentId===comment._id;});return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:'bg-theme_dark-highlight w-8 h-8 rounded-full my-auto'}),/*#__PURE__*/_jsxs(\"div\",{className:' my-auto py-1 ml-1.5 text-theme_border opacity-70',children:[\"Posted by \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-theme_border opacity-90\",children:[comment.author,\" \"]}),/*#__PURE__*/_jsx(TimeAgo,{datetime:comment.postedAt})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-2 border-theme_dark-highlight mt-1 ml-4 p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-2 text-sm leading-6 text-white opacity-70\",children:comment.body}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"flex hover:text-theme_dark-highlight \",onClick:function onClick(){return setShowCommentForm(comment._id);},children:[/*#__PURE__*/_jsx(ChatAltIcon,{className:\"mt-2 h-6 w-6  mx-1  \"}),/*#__PURE__*/_jsx(\"span\",{className:\"my-1 py-2 text-xs\",children:\"Reply\"})]})}),comment._id===showCommentForm&&/*#__PURE__*/_jsx(CommentForm,{showAuthor:false,rootId:props.rootId,onSubmit:function onSubmit(){setShowCommentForm(false);rootCommentInfo.refreshComments();},parentId:comment._id,onCancel:function onCancel(e){return setShowCommentForm(false);}}),replies.length>0&&/*#__PURE__*/_jsx(Comments,{comments:props.comments,parentId:comment._id,rootId:props.rootId})]})]})]});})});}export default Comments;","map":{"version":3,"sources":["E:/ENGAGE/practice/client/src/Comments.js"],"names":["TimeAgo","ChatAltIcon","useState","useContext","CommentForm","RootCommentContext","Voting","Comments","props","showCommentForm","setShowCommentForm","comments","filter","comment","parentId","rootCommentInfo","map","replies","reply","_id","author","postedAt","body","rootId","refreshComments","e","length"],"mappings":"gJAAA,MAAOA,CAAAA,OAAP,KAAoB,eAApB,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,QAAT,CAAoBC,UAApB,KAAqC,OAArC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,wFAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CAErB,cAA8CN,QAAQ,CAAC,KAAD,CAAtD,wCAAOO,eAAP,eAAwBC,kBAAxB,eAEA,GAAMC,CAAAA,QAAQ,CAAGH,KAAK,CAACG,QAAN,CAAeC,MAAf,CAAsB,SAAAC,OAAO,QAAIL,CAAAA,KAAK,CAACM,QAAN,GAAmBD,OAAO,CAACC,QAA/B,EAA7B,CAAjB,CACA,GAAMC,CAAAA,eAAe,CAAGZ,UAAU,CAACE,kBAAD,CAAlC,CAEA,mBACE,YAAK,SAAS,CAAI,sCAAlB,UACKM,QAAQ,CAACK,GAAT,CAAa,SAAAH,OAAO,CAAG,CACtB,GAAMI,CAAAA,OAAO,CAAGT,KAAK,CAACG,QAAN,CAAeC,MAAf,CAAsB,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACJ,QAAN,GAAmBD,OAAO,CAACM,GAA/B,EAA3B,CAAhB,CACA,mBAGI,aAAK,SAAS,CAAG,MAAjB,wBAEI,aAAK,SAAS,CAAG,MAAjB,wBACI,YAAK,SAAS,CAAI,sDAAlB,EADJ,cAEI,aAAK,SAAS,CAAI,mDAAlB,qCACc,cAAM,SAAS,CAAG,wCAAlB,WAA4DN,OAAO,CAACO,MAApE,OADd,cAEI,KAAC,OAAD,EAAS,QAAQ,CAAIP,OAAO,CAACQ,QAA7B,EAFJ,GAFJ,GAFJ,cAUI,aAAK,SAAS,CAAG,sDAAjB,wBACI,YAAK,SAAS,CAAG,8CAAjB,UACKR,OAAO,CAACS,IADb,EADJ,cAII,oCACI,YAAK,SAAS,CAAG,MAAjB,uBAEI,gBAAQ,SAAS,CAAG,uCAApB,CACQ,OAAO,CAAI,yBAAMZ,CAAAA,kBAAkB,CAACG,OAAO,CAACM,GAAT,CAAxB,EADnB,wBAII,KAAC,WAAD,EAAa,SAAS,CAAG,sBAAzB,EAJJ,cAKI,aAAM,SAAS,CAAG,mBAAlB,mBALJ,GAFJ,EADJ,CAYQN,OAAO,CAACM,GAAR,GAAgBV,eAAhB,eACI,KAAC,WAAD,EACY,UAAU,CAAI,KAD1B,CAEY,MAAM,CAAID,KAAK,CAACe,MAF5B,CAGY,QAAQ,CAAI,mBAAM,CAEEb,kBAAkB,CAAC,KAAD,CAAlB,CACAK,eAAe,CAACS,eAAhB,GACD,CAP/B,CASY,QAAQ,CAAIX,OAAO,CAACM,GAThC,CAUY,QAAQ,CAAI,kBAAAM,CAAC,QAAIf,CAAAA,kBAAkB,CAAC,KAAD,CAAtB,EAVzB,EAbZ,CA2BKO,OAAO,CAACS,MAAR,CAAiB,CAAjB,eACG,KAAC,QAAD,EAAU,QAAQ,CAAElB,KAAK,CAACG,QAA1B,CAAoC,QAAQ,CAAEE,OAAO,CAACM,GAAtD,CAA2D,MAAM,CAAEX,KAAK,CAACe,MAAzE,EA5BR,GAJJ,GAVJ,GAHJ,CAsDC,CAxDF,CADL,EADF,CAgED,CAED,cAAehB,CAAAA,QAAf","sourcesContent":["import TimeAgo from 'timeago-react';\r\nimport { ChatAltIcon } from \"@heroicons/react/solid\";\r\nimport { useState , useContext} from 'react';\r\nimport CommentForm from './CommentForm';\r\nimport RootCommentContext from './RootCommentContext';\r\nimport Voting from './Voting';\r\n\r\nfunction Comments(props) {\r\n\r\n    const [showCommentForm, setShowCommentForm] = useState(false);\r\n  \r\n    const comments = props.comments.filter(comment => props.parentId === comment.parentId);\r\n    const rootCommentInfo = useContext(RootCommentContext);\r\n\r\n    return (\r\n      <div className = {'w-full bg-theme_dark-alternateBright'}>\r\n          {comments.map(comment =>{\r\n            const replies = props.comments.filter(reply => reply.parentId === comment._id );\r\n            return(\r\n\r\n\r\n                <div className = \"mb-2\">\r\n\r\n                    <div className = \"flex\">\r\n                        <div className = {'bg-theme_dark-highlight w-8 h-8 rounded-full my-auto'}/>\r\n                        <div className = {' my-auto py-1 ml-1.5 text-theme_border opacity-70'}>\r\n                            Posted by <span className = 'font-bold text-theme_border opacity-90'>{comment.author} </span> \r\n                            <TimeAgo datetime = {comment.postedAt}/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className = \"border-l-2 border-theme_dark-highlight mt-1 ml-4 p-3\">\r\n                        <div className = \"px-2 text-sm leading-6 text-white opacity-70\">\r\n                            {comment.body}\r\n                        </div>\r\n                        <div>\r\n                            <div className = \"flex\">\r\n                                {/* <Voting postId = {comment._id}/> */}\r\n                                <button className = \"flex hover:text-theme_dark-highlight \"\r\n                                        onClick = {() => setShowCommentForm(comment._id)}\r\n                                >\r\n                                    \r\n                                    <ChatAltIcon className = \"mt-2 h-6 w-6  mx-1  \"/> \r\n                                    <span className = \"my-1 py-2 text-xs\">Reply</span>\r\n                                </button>\r\n                            </div>\r\n                            {\r\n                                comment._id === showCommentForm && (\r\n                                    <CommentForm \r\n                                                showAuthor = {false}\r\n                                                rootId = {props.rootId}\r\n                                                onSubmit = {() => {\r\n                                                                    \r\n                                                                    setShowCommentForm(false);\r\n                                                                    rootCommentInfo.refreshComments(); \r\n                                                                  }\r\n                                                            }\r\n                                                parentId = {comment._id} \r\n                                                onCancel = {e => setShowCommentForm(false)}\r\n                                    />\r\n                                )\r\n                            }\r\n                            {replies.length > 0 && (\r\n                                <Comments comments={props.comments} parentId={comment._id} rootId={props.rootId} />\r\n                            )}\r\n\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n\r\n                );\r\n            })}\r\n          \r\n\r\n          \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Comments;"]},"metadata":{},"sourceType":"module"}