{"ast":null,"code":"import _slicedToArray from\"E:/ENGAGE/practice/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//For rendering the contents of a post in a modal pop up\nimport axios from\"axios\";import{useState,useEffect}from'react';import PostContent from\"./PostContent\";import ClickOutHandler from\"react-clickout-handler\";import{XIcon}from'@heroicons/react/outline';import CommentForm from\"./CommentForm\";import Comments from\"./Comments\";import RootCommentContext from'./RootCommentContext';import{comment}from\"purgecss/node_modules/postcss\";import Comment from\"./Comment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PostModal(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),comments=_useState4[0],setComments=_useState4[1];var visibleClass=props.open?'block':'hidden';function refreshComments(){axios.get('https://chai-stop-server.herokuapp.com/comments/root/'+props.id).then(function(response){setComments(response.data);});}useEffect(function(){axios.get('https://chai-stop-server.herokuapp.com/postthread/'+props.id).then(function(response){setPost(response.data);});refreshComments();},[props.id]);function close(){setPost({});props.onClickOut();}return/*#__PURE__*/_jsx(\"div\",{className:\"w-screen h-screen fixed top-0 bottom-0 left-0 z-20 flex \"+visibleClass,style:{backgroundColor:'rgba(0,0,0,0.8)'},children:/*#__PURE__*/_jsx(ClickOutHandler,{onClickOut:function onClickOut(){},children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-4/5 bg-theme_dark-alternateBright  border border-theme_dark rounded-md bg-white p-4 pt-1   text-theme_dark  mx-auto self-center align-middle\",children:[/*#__PURE__*/_jsx(\"div\",{className:'text-right',children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){close();},className:'mr-0',children:/*#__PURE__*/_jsx(XIcon,{solid:true,className:'bg-theme_dark-highlight border border-theme_dark-highlight rounded-md text-theme_dark h-5 w-5 align-right '})})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 border-2 border-theme_dark-highlight rounded-md\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block overflow-scroll \",style:{maxHeight:\"calc(100vh - 10rem)\"},children:/*#__PURE__*/_jsx(Comment,{post:post,id:props.id})})})]})})});}export default PostModal;","map":{"version":3,"sources":["E:/ENGAGE/practice/client/src/PostModal.js"],"names":["axios","useState","useEffect","PostContent","ClickOutHandler","XIcon","CommentForm","Comments","RootCommentContext","comment","Comment","PostModal","props","post","setPost","comments","setComments","visibleClass","open","refreshComments","get","id","then","response","data","close","onClickOut","backgroundColor","maxHeight"],"mappings":"gJAAA;AAGA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,eAAP,KAA4B,wBAA5B,CACA,OAAQC,KAAR,KAAoB,0BAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,OAASC,OAAT,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,wFACA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CACA,CAII,cAAwBX,QAAQ,CAAC,EAAD,CAAhC,wCAAOY,IAAP,eAAaC,OAAb,eACA,eAAgCb,QAAQ,CAAC,EAAD,CAAxC,yCAAOc,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,YAAY,CAAGL,KAAK,CAACM,IAAN,CAAa,OAAb,CAAuB,QAA5C,CAEA,QAASC,CAAAA,eAAT,EAA0B,CACtBnB,KAAK,CAACoB,GAAN,CAAU,wDAA0DR,KAAK,CAACS,EAA1E,EACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CACdP,WAAW,CAACO,QAAQ,CAACC,IAAV,CAAX,CAGH,CALD,EAOH,CAEDtB,SAAS,CAAC,UAAM,CAEZF,KAAK,CAACoB,GAAN,CAAU,qDAAuDR,KAAK,CAACS,EAAvE,EACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CACdT,OAAO,CAACS,QAAQ,CAACC,IAAV,CAAP,CAGH,CALD,EAOAL,eAAe,GAElB,CAXQ,CAWP,CAACP,KAAK,CAACS,EAAP,CAXO,CAAT,CAcA,QAASI,CAAAA,KAAT,EAAgB,CACZX,OAAO,CAAC,EAAD,CAAP,CACAF,KAAK,CAACc,UAAN,GACH,CACD,mBAEI,YAAK,SAAS,CAAI,2DAA6DT,YAA/E,CAA6F,KAAK,CAAI,CAACU,eAAe,CAAC,iBAAjB,CAAtG,uBAED,KAAC,eAAD,EAAiB,UAAU,CAAI,qBAAM,CAAE,CAAvC,uBACM,aAAK,SAAS,CAAG,gJAAjB,wBACO,YAAK,SAAS,CAAI,YAAlB,uBACQ,eAAQ,OAAO,CAAE,kBAAM,CAACF,KAAK,GAAG,CAAhC,CAAkC,SAAS,CAAI,MAA/C,uBAEI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,SAAS,CAAI,4GAA1B,EAFJ,EADR,EADP,cAOI,YAAK,SAAS,CAAG,qDAAjB,uBAGG,YACI,SAAS,CAAG,wBADhB,CAEI,KAAK,CAAI,CAACG,SAAS,CAAG,qBAAb,CAFb,uBAmBI,KAAC,OAAD,EAAS,IAAI,CAAIf,IAAjB,CAAuB,EAAE,CAAID,KAAK,CAACS,EAAnC,EAnBJ,EAHH,EAPJ,GADN,EAFC,EAFJ,CAkDH,CAGD,cAAeV,CAAAA,SAAf","sourcesContent":["//For rendering the contents of a post in a modal pop up\r\n\r\n\r\nimport axios from \"axios\";\r\nimport {useState, useEffect} from 'react';\r\nimport PostContent from \"./PostContent\";\r\nimport ClickOutHandler from \"react-clickout-handler\";\r\nimport {XIcon} from '@heroicons/react/outline';\r\nimport CommentForm from \"./CommentForm\";\r\nimport Comments from \"./Comments\";\r\n\r\nimport RootCommentContext from './RootCommentContext';\r\nimport { comment } from \"purgecss/node_modules/postcss\";\r\nimport Comment from \"./Comment\";\r\nfunction PostModal(props)\r\n{\r\n    \r\n   \r\n\r\n    const [post, setPost] = useState({});\r\n    const [comments, setComments] = useState([]);\r\n\r\n    const visibleClass = props.open ? 'block' : 'hidden';\r\n\r\n    function refreshComments(){\r\n        axios.get('https://chai-stop-server.herokuapp.com/comments/root/' + props.id)\r\n        .then(response => {\r\n            setComments(response.data);\r\n            \r\n            \r\n        });\r\n       \r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        axios.get('https://chai-stop-server.herokuapp.com/postthread/' + props.id)\r\n        .then(response => {\r\n            setPost(response.data);\r\n            \r\n            \r\n        });\r\n\r\n        refreshComments();\r\n        \r\n    },[props.id]);\r\n\r\n\r\n    function close(){\r\n        setPost({});\r\n        props.onClickOut();\r\n    }\r\n    return(\r\n        \r\n        <div className = {\"w-screen h-screen fixed top-0 bottom-0 left-0 z-20 flex \" + visibleClass} style = {{backgroundColor:'rgba(0,0,0,0.8)'}}>\r\n       \r\n       <ClickOutHandler onClickOut = {() => {}}>\r\n             <div className = \"w-4/5 bg-theme_dark-alternateBright  border border-theme_dark rounded-md bg-white p-4 pt-1   text-theme_dark  mx-auto self-center align-middle\">\r\n                    <div className = {'text-right'}>\r\n                            <button onClick={() => {close()}} className = {'mr-0'}>\r\n                          \r\n                                <XIcon solid className = {'bg-theme_dark-highlight border border-theme_dark-highlight rounded-md text-theme_dark h-5 w-5 align-right '}/>\r\n                            </button>\r\n                    </div>\r\n                 <div className = \"p-2 border-2 border-theme_dark-highlight rounded-md\">\r\n                \r\n                    \r\n                    <div\r\n                        className = \"block overflow-scroll \" \r\n                        style = {{maxHeight : \"calc(100vh - 10rem)\"}}>\r\n                        {/* <PostContent open = {true} {...post}/> */}\r\n\r\n                        {/* {!!post && !!post._id && (\r\n                            <>\r\n                            <hr className = \"border-theme_dark-alternateBright my-4\"/>\r\n                            <CommentForm onSubmit = {() => refreshComments()}rootId = {post._id} parentId = {post._id} showAuthor = {true}/>\r\n\r\n\r\n\r\n                            <hr className = \"border-theme_dark-alternateBright my-4\"/>\r\n                            <RootCommentContext.Provider value = {{refreshComments}}>\r\n                                <Comments parentId = {post._id} rootId = {post._id} comments={comments} />\r\n                            </RootCommentContext.Provider>\r\n\r\n                            </>\r\n                        )} */}\r\n                        <Comment post = {post} id = {props.id}/>\r\n\r\n\r\n\r\n                        \r\n                    </div>\r\n                \r\n                 </div>\r\n                 \r\n                 \r\n             </div>\r\n        </ClickOutHandler>\r\n        </div>\r\n        \r\n        \r\n    );\r\n}\r\n\r\n\r\nexport default PostModal;"]},"metadata":{},"sourceType":"module"}